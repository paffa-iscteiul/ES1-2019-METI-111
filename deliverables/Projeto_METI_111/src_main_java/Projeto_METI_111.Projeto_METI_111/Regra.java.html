<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="pt"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>Regra.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">AllTests (10/dez/2019 18:48:54)</a> &gt; <a href="../../index.html" class="el_group">Projeto_METI_111</a> &gt; <a href="../index.html" class="el_bundle">src/main/java</a> &gt; <a href="index.source.html" class="el_package">Projeto_METI_111.Projeto_METI_111</a> &gt; <span class="el_source">Regra.java</span></div><h1>Regra.java</h1><pre class="source lang-java linenums">package Projeto_METI_111.Projeto_METI_111;

import java.io.IOException;

/**
* Esta classe permite definir uma estrutura de dados para a criação de regras
*
* @author  Pedro Fonseca, Fábio Cardoso, Filipa Gomes, Inês Gomes, Sofia Pérsio, Marco Silva
*/
public class Regra {
	public int numero_de_regras;
	public String[] vetor_metricas;
	public String entao;
	public String senao;
	public String op;
	public String metricas;
	
	
	/**
	 * Construtor da classe
	 * Recebe o corpo de IF, recebe medidas a adotar em caso de regra verificada ou não
	 * @param metricas metricas (corpo de IF)
	 * @param metricas entao (corpo de THEN)
	 * @param metricas senao (corpo de ELSE)
	 */
<span class="fc" id="L26">	public Regra (String metricas, String entao, String senao ) {</span>
<span class="fc" id="L27">		this.entao = entao;</span>
<span class="fc" id="L28">		this.senao=senao;</span>
<span class="fc" id="L29">		this.metricas=metricas;</span>
		
<span class="fc" id="L31">		analisar_parametros(metricas);</span>
		
<span class="fc" id="L33">	}</span>
	
	/**
	 * analisar_parametros() É um procedimento que permite o processamento dos valores recebidos na construção da instância
	 * @param metricas
	 */
	public void analisar_parametros(String metricas) {
<span class="fc" id="L40">		numero_de_regras=count_ocorrences(metricas);</span>
<span class="fc" id="L41">		String metricas1 = metricas;</span>
<span class="fc bfc" id="L42" title="All 2 branches covered.">			if(metricas.contains(&quot;OR&quot;)) {</span>
<span class="fc" id="L43">				op=&quot;OR&quot;;</span>
<span class="fc" id="L44">				metricas1 = metricas.replace(&quot;OR &quot;, &quot;&quot;);</span>
			}
<span class="fc bfc" id="L46" title="All 2 branches covered.">			if(metricas.contains(&quot;AND&quot;)) {</span>
<span class="fc" id="L47">				op=&quot;AND&quot;;</span>
<span class="fc" id="L48">				metricas1 = metricas.replace(&quot;AND &quot;, &quot;&quot;);</span>
			}
			
<span class="fc" id="L51">			String aux[] = metricas1.split(&quot; &quot;);</span>
<span class="fc" id="L52">			String metricas2[] = new String [aux.length / 3];</span>
<span class="fc bfc" id="L53" title="All 2 branches covered.">				for(int i = 0; i&lt;aux.length;i=i+3) {</span>
<span class="fc" id="L54">					metricas2[i/3]= aux[i]+aux[i+1]+aux[i+2];</span>
				}
<span class="fc" id="L56">				vetor_metricas=metricas2 ;</span>
<span class="fc" id="L57">	}</span>
	
	/**
	 * count_ocorrences() É um procedimento que permite o cálculo do número de ocorrências de AND ou OR em m
	 * @param m
	 * @return count
	 */
	private int count_ocorrences(String m) {
<span class="fc" id="L65">		String a1[]=m.split(&quot; &quot;);</span>
<span class="fc" id="L66">		int n= a1.length;</span>
<span class="fc" id="L67">		int count = 1 ;</span>
<span class="fc bfc" id="L68" title="All 2 branches covered.">			for(int i = 0; i &lt;n; i++) {</span>
<span class="fc bfc" id="L69" title="All 4 branches covered.">				if(a1[i].equals(&quot;AND&quot;)|| a1[i].equals(&quot;OR&quot;)) {</span>
<span class="fc" id="L70">					count ++ ;</span>
				}
			}
		
		
<span class="fc" id="L75">		return count;</span>
	}

	/**
	 * getVetor_metricas() É uma função que retorna métricas a serem verificadas em forma de lista
	 * @return vetor_metricas lista de métricas a serem verificadas
	 */
	public String[] getVetor_metricas() {
<span class="fc" id="L83">		return vetor_metricas;</span>
	}
	
	/**
	 * getMetricas() É uma função que retorna métrica
	 * @return metricas métrica
	 */
	public String getMetricas() {
<span class="fc" id="L91">		return metricas;</span>
	}
	
	/**
	 * getEntao() É uma função que retorna o interior de THEN
	 * @return entao 
	 */
	public String getEntao() {
<span class="fc" id="L99">		return entao;</span>
	}

	/**
	 * getSenao() É uma função que retorna o interior de ELSE
	 * @return senao 
	 */
	public String getSenao() {
<span class="fc" id="L107">		return senao;</span>
	}
	
	/**
	 * getOp() É uma função que retorna o operador da regra
	 * @return op 
	 */
	public String getOp() {
<span class="fc" id="L115">		return op;</span>
	}
	
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span>AllTests (10/dez/2019 18:48:54)</div></body></html>